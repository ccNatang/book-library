<h1>Edit <%= @book.title %></h1>

<% if @book.errors.any? %>
  <div style="color: red;">
    <h2><%= pluralize(@book.errors.count, "error") %> prohibited this book from being saved:</h2>
    <ul>
      <% @book.errors.each do |error| %>
        <li><%= error.full_message %></li>
        <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @book do |form| %>
  <div class="field">
    <%= form.label :title %><br>
    <%= form.text_field :title %>
  </div>

  <div class="field">
    <%= form.label :author %><br>
    <%= form.collection_select :author_id, @authors, :id, :name, { prompt: "Select a author"} %>
  </div>

  <div class="field">
    <%= form.label :genre %><br>
    <%= form.collection_select :genre_id, @genres, :id, :name, { prompt: "Select a genre" } %>
  </div>
  
  <br>

  <div class="actions">
    <%= form.submit "Update Book" %>
  </div>
<% end %>

<hr>
<%= link_to "Show Details", @book %> |
<%= link_to "Back to Lirbary", books_path %>